<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasse</title>

    <link rel="stylesheet" href="css/main.css">
</head>

<body>

    <div class="screen_lock" id="screen_lock"><div>Bestellen...</div></div>

    <div id="div_select_cashpoint">

        <!-- Select cashpoint -->
        <label for="input_select_cashpoint_id">Kasse</label><select id="input_select_cashpoint_id">
            <option value="" selected hidden disabled>Kasse wählen</option>
            <option>1</option>
            <option>2</option>
        </select>

    </div>

    <div id="div_cashpoint_content_payment_background"></div>

    <div id="div_cashpoint_content">
        <div id="div_cashpoint_content_products" class="div_cashpoint_content_products"></div>
        <div id="div_cashpoint_content_orderlist" class="div_cashpoint_content_orderlist"><h1>Bestellung</h1></div>
        <div id="div_cashpoint_content_payment" class="div_cashpoint_content_payment">

            <div id="payment_given"></div>

            <table>
                <tr>
                    <td class="payment_button payment_number_button" id="button_7" onclick="updateGiven('7')">7</td>
                    <td  class="payment_button payment_number_button" id="button_8" onclick="updateGiven('8')">8</td>
                    <td  class="payment_button payment_number_button"id="button_9" onclick="updateGiven('9')">9</td>
                    <td rowspan="7" style="vertical-align: top; padding-left: 10pt">
                        <h1>Bestellungsdetails</h1>
                        <p>Summe mit Pfand: <span class="div_cashpoint_content_payment_info_sum"></span></p>
                        <p>Rückgeld: <span class="div_cashpoint_content_payment_info_change"></span></p>
                    </td>
                </tr>
                <tr>
                    <td class="payment_button payment_number_button" id="button_4" onclick="updateGiven('4')">4</td>
                    <td class="payment_button payment_number_button" id="button_5" onclick="updateGiven('5')">5</td>
                    <td class="payment_button payment_number_button" id="button_6" onclick="updateGiven('6')">6</td>
                </tr>
                <tr>
                    <td class="payment_button payment_number_button" id="button_1" onclick="updateGiven('1')">1</td>
                    <td class="payment_button payment_number_button" id="button_2" onclick="updateGiven('2')">2</td>
                    <td class="payment_button payment_number_button" id="button_3" onclick="updateGiven('3')">3</td>
                </tr>
                <tr>
                    <td class="payment_button payment_number_button" id="button_0" onclick="updateGiven('0')">0</td>
                    <td class="payment_button payment_number_button" id="button_." onclick="updateGiven('.')">,</td>
                    <td class="payment_button payment_number_button" id="button_<" onclick="updateGiven('<')">&lt;</td>
                </tr>
                <tr>
                    <td class="payment_button" id="button_order">OK</td>
                    <td class="payment_button" id="button_cl">CL</td>
                    <td class="payment_button" id="button_back">Zurück</td>
                </tr>
            </table>

        </div>
    </div>

</body>
<script type="module">
    import {initPage, initCashpoint, updateGiven, order, returnToOrderscreen} from "./js/cashpoint.js";

    document.querySelector("body").onload = function () { initPage(); } ;
    document.getElementById("input_select_cashpoint_id").onchange = function () { initCashpoint(); };

    let buttons = document.getElementsByClassName("payment_number_button");
    for (let i = 0; i < buttons.length; i++) {
        (buttons.item(i)).onclick = function () { updateGiven(buttons.item(i).id.split("_")[1]); };
    }

    document.getElementById("button_order").onclick = function () { order(); };
    document.getElementById("button_cl").onclick = function () { updateGiven("CL"); };
    document.getElementById("button_back").onclick = function () { returnToOrderscreen(); };

</script>
</html>